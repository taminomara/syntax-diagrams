{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$ref": "#/$defs/Element",
  "$defs": {
    "Terminal": {
      "type": "object",
      "properties": {
        "terminal": {
          "anyOf": [
            {
              "type": "string"
            }
          ]
        },
        "href": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "title": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "css_class": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "resolve": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ]
        },
        "resolver_data": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ]
        }
      },
      "required": ["terminal"],
      "additionalProperties": false,
      "description": "Describes a terminal node with optional additional settings."
    },
    "NonTerminal": {
      "type": "object",
      "properties": {
        "non_terminal": {
          "anyOf": [
            {
              "type": "string"
            }
          ]
        },
        "href": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "title": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "css_class": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "resolve": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ]
        },
        "resolver_data": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ]
        }
      },
      "required": ["non_terminal"],
      "additionalProperties": false,
      "description": "Describes a non-terminal node with optional additional settings."
    },
    "Comment": {
      "type": "object",
      "properties": {
        "comment": {
          "anyOf": [
            {
              "type": "string"
            }
          ]
        },
        "href": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "title": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "css_class": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "resolve": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ]
        },
        "resolver_data": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ]
        }
      },
      "required": ["comment"],
      "additionalProperties": false,
      "description": "Describes a comment node with optional additional settings."
    },
    "Sequence": {
      "type": "object",
      "properties": {
        "sequence": {
          "anyOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/$defs/Element"
              }
            }
          ]
        },
        "linebreaks": {
          "anyOf": [
            {
              "enum": ["HARD", "SOFT", "DEFAULT", "NO_BREAK"]
            },
            {
              "enum": ["HARD", "SOFT", "DEFAULT", "NO_BREAK"]
            },
            {
              "type": "array",
              "items": {
                "anyOf": [
                  {
                    "enum": ["HARD", "SOFT", "DEFAULT", "NO_BREAK"]
                  },
                  {
                    "enum": ["HARD", "SOFT", "DEFAULT", "NO_BREAK"]
                  }
                ]
              }
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": ["sequence"],
      "additionalProperties": false,
      "description": "Describes an automatically wrapped sequence of elements."
    },
    "Stack": {
      "type": "object",
      "properties": {
        "stack": {
          "anyOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/$defs/Element"
              }
            }
          ]
        }
      },
      "required": ["stack"],
      "additionalProperties": false,
      "description": "Describes a sequence of elements that wraps after each element."
    },
    "NoBreak": {
      "type": "object",
      "properties": {
        "no_break": {
          "anyOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/$defs/Element"
              }
            }
          ]
        }
      },
      "required": ["no_break"],
      "additionalProperties": false,
      "description": "Describes a sequence of elements that doesn't wrap."
    },
    "Choice": {
      "type": "object",
      "properties": {
        "choice": {
          "anyOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/$defs/Element"
              }
            }
          ]
        },
        "default": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": ["choice"],
      "additionalProperties": false,
      "description": "Describes a choice between several elements."
    },
    "Optional": {
      "type": "object",
      "properties": {
        "optional": {
          "anyOf": [
            {
              "$ref": "#/$defs/Element"
            }
          ]
        },
        "skip": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ]
        },
        "skip_bottom": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": ["optional"],
      "additionalProperties": false,
      "description": "Describes an optional element."
    },
    "OneOrMore": {
      "type": "object",
      "properties": {
        "one_or_more": {
          "anyOf": [
            {
              "$ref": "#/$defs/Element"
            }
          ]
        },
        "repeat": {
          "anyOf": [
            {
              "$ref": "#/$defs/Element"
            },
            {
              "type": "null"
            }
          ]
        },
        "repeat_top": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": ["one_or_more"],
      "additionalProperties": false,
      "description": "Describes a repeated element."
    },
    "ZeroOrMore": {
      "type": "object",
      "properties": {
        "zero_or_more": {
          "anyOf": [
            {
              "$ref": "#/$defs/Element"
            }
          ]
        },
        "repeat": {
          "anyOf": [
            {
              "$ref": "#/$defs/Element"
            },
            {
              "type": "null"
            }
          ]
        },
        "repeat_top": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ]
        },
        "skip": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ]
        },
        "skip_bottom": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": ["zero_or_more"],
      "additionalProperties": false,
      "description": "Describes an optional repeated element."
    },
    "Barrier": {
      "type": "object",
      "properties": {
        "barrier": {
          "anyOf": [
            {
              "$ref": "#/$defs/Element"
            }
          ]
        }
      },
      "required": ["barrier"],
      "additionalProperties": false,
      "description": "Isolates an element and disables optimizations that merge lines between\nthis element and the rest of the diagram."
    },
    "Group": {
      "type": "object",
      "properties": {
        "group": {
          "anyOf": [
            {
              "$ref": "#/$defs/Element"
            }
          ]
        },
        "text": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "href": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "title": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "css_class": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": ["group"],
      "additionalProperties": false,
      "description": "Draws a box around some element."
    },
    "Element": {
      "anyOf": [
        {
          "type": "null"
        },
        {
          "type": "string"
        },
        {
          "type": "array",
          "items": {
            "$ref": "#/$defs/Element"
          }
        },
        {
          "$ref": "#/$defs/Terminal"
        },
        {
          "$ref": "#/$defs/NonTerminal"
        },
        {
          "$ref": "#/$defs/Comment"
        },
        {
          "$ref": "#/$defs/Sequence"
        },
        {
          "$ref": "#/$defs/Stack"
        },
        {
          "$ref": "#/$defs/NoBreak"
        },
        {
          "$ref": "#/$defs/Choice"
        },
        {
          "$ref": "#/$defs/Optional"
        },
        {
          "$ref": "#/$defs/OneOrMore"
        },
        {
          "$ref": "#/$defs/ZeroOrMore"
        },
        {
          "$ref": "#/$defs/Barrier"
        },
        {
          "$ref": "#/$defs/Group"
        }
      ],
      "description": "Describes an element of a syntax diagram."
    }
  }
}
